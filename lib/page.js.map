{"version":3,"sources":["../src/page.js"],"names":[],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AAKO,IAAI,MAAM,GAAG,YAAW;AAC7B,SAAO,qBAAU;AACf,IAAA,CAAC,EAAE,aAAK,CAAL,EADY;AAEf,IAAA,CAAC,EAAE,aAAK,CAAL,EAFY;AAGf,IAAA,KAAK,EAAE,aAAK,KAAL,EAHQ;AAIf,IAAA,MAAM,EAAE,aAAK,MAAL,EAJO;AAMf,IAAA,oBAAoB,EAAE,yBAAE,KAAF,CAAQ,aAAK,UAAL,KAAoB,GAA5B;AANP,GAAV,CAAP;AAQD,CATM,C,CAWP;AACA;;;;AACO,IAAI,IAAI,GAAG;AAChB,EAAA,CAAC,EAAE,YAAW;AACZ,WAAO,gBAAO,CAAP,KAAa,gBAAO,MAAP,CAAc,CAAd,EAApB;AACD,GAHe;AAKhB,EAAA,CAAC,EAAE,YAAW;AACZ,WAAO,gBAAO,CAAP,KAAa,gBAAO,MAAP,CAAc,CAAd,EAApB;AACD,GAPe;AAShB,EAAA,KAAK,EAAE,oBAAS,YAAW;AACzB,WAAO,yBAAE,GAAF,CAAM,CAAE;AACb,IAAA,QAAQ,CAAC,IAAT,CAAc,WADH,EAEX,QAAQ,CAAC,eAAT,CAAyB,WAFd,EAGX,QAAQ,CAAC,IAAT,CAAc,WAHH,EAIX,QAAQ,CAAC,eAAT,CAAyB,WAJd,EAKX,QAAQ,CAAC,eAAT,CAAyB,WALd,CAAN,IAMF,gBAAO,YAAP,EANL;AAOD,GARM,CATS;AAmBhB,EAAA,MAAM,EAAE,oBAAS,YAAW;AAC1B,WAAO,yBAAE,GAAF,CAAM,CAAE;AACb,IAAA,QAAQ,CAAC,IAAT,CAAc,YADH,EAEX,QAAQ,CAAC,eAAT,CAAyB,YAFd,EAGX,QAAQ,CAAC,IAAT,CAAc,YAHH,EAIX,QAAQ,CAAC,eAAT,CAAyB,YAJd,EAKX,QAAQ,CAAC,eAAT,CAAyB,YALd,CAAN,IAMF,gBAAO,YAAP,EANL;AAOD,GARO,CAnBQ;AA6BhB,EAAA,UAAU,EAAE,YAAW;AACrB,WAAO,aAAI,IAAJ,CAAS,UAAhB;AACD,GA/Be;AAiChB,EAAA,MAAM;AAjCU,CAAX","file":"page.js","sourcesContent":["import _ from 'lodash-firecloud';\nimport cfg from './cfg';\nimport client from './client';\nimport screen from './screen';\n\nimport {\n  roundRect,\n  throttle\n} from './util';\n\nexport let toJSON = function() {\n  return roundRect({\n    x: page.x(),\n    y: page.y(),\n    width: page.width(),\n    height: page.height(),\n\n    zoomFactorPercentile: _.round(page.zoomFactor() * 100)\n  });\n};\n\n// page relative to window (top frame) | in device px\n// aka layout viewport, document\nexport let page = {\n  x: function() {\n    return client.x() - client.scroll.x();\n  },\n\n  y: function() {\n    return client.y() - client.scroll.y();\n  },\n\n  width: throttle(function() {\n    return _.max([ // same as jQuery(document).width\n      document.body.scrollWidth,\n      document.documentElement.scrollWidth,\n      document.body.offsetWidth,\n      document.documentElement.offsetWidth,\n      document.documentElement.clientWidth\n    ]) * screen.osZoomFactor();\n  }),\n\n  height: throttle(function() {\n    return _.max([ // same as jQuery(document).height\n      document.body.scrollHeight,\n      document.documentElement.scrollHeight,\n      document.body.offsetHeight,\n      document.documentElement.offsetHeight,\n      document.documentElement.clientHeight\n    ]) * screen.osZoomFactor();\n  }),\n\n  zoomFactor: function() {\n    return cfg.page.zoomFactor;\n  },\n\n  toJSON\n};\n\nexport default page;\n"]}