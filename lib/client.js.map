{"version":3,"sources":["../src/client.js"],"names":[],"mappings":"sIAAA;AACA;AACA;;AAEA,8B;;;;;AAKO,IAAI,MAAM,GAAG,YAAW;AAC7B,SAAO,qBAAU;AACf,IAAA,GAAG,EAAE,eAAO,GADG;;AAGf,IAAA,CAAC,EAAE,eAAO,CAAP,EAHY;AAIf,IAAA,CAAC,EAAE,eAAO,CAAP,EAJY;AAKf,IAAA,KAAK,EAAE,eAAO,KAAP,EALQ;AAMf,IAAA,MAAM,EAAE,eAAO,MAAP,EANO;;AAQf,IAAA,QAAQ,EAAE,eAAO,QAAP,EARK;AASf,IAAA,MAAM,EAAE,qBAAU;AAChB,MAAA,CAAC,EAAE,eAAO,MAAP,CAAc,CAAd,EADa;AAEhB,MAAA,CAAC,EAAE,eAAO,MAAP,CAAc,CAAd,EAFa,EAAV,CATO,EAAV,CAAP;;;AAcD,CAfM;;AAiBP;AACA;wBACO,IAAI,MAAM,GAAG;AAClB,EAAA,GAAG,EAAE,aAAI,MADS;;AAGlB,EAAA,CAAC,EAAE,YAAW;AACZ,WAAO,yBAAE,SAAF,CAAY,aAAI,MAAJ,CAAW,CAAvB,EAA0B,CAA1B,CAAP;AACD,GALiB;;AAOlB,EAAA,CAAC,EAAE,YAAW;AACZ,WAAO,yBAAE,SAAF,CAAY,aAAI,MAAJ,CAAW,CAAvB,EAA0B,CAA1B,CAAP;AACD,GATiB;;AAWlB,EAAA,KAAK,EAAE,0BAAe,YAAW;AAC/B,WAAO,MAAM,CAAC,UAAP,GAAoB,gBAAO,YAAP,EAA3B;AACD,GAFM,CAXW;;AAelB,EAAA,MAAM,EAAE,0BAAe,YAAW;AAChC,WAAO,MAAM,CAAC,WAAP,GAAqB,gBAAO,YAAP,EAA5B;AACD,GAFO,CAfU;;AAmBlB,EAAA,QAAQ,EAAE,0BAAe,YAAW;AAClC,WAAO,MAAM,KAAK,MAAM,CAAC,GAAzB;AACD,GAFS,CAnBQ;;AAuBlB,EAAA,MAAM,EAAE;AACN,IAAA,CAAC,EAAE,0BAAe,YAAW;AAC3B,aAAO,MAAM,CAAC,WAAP,GAAqB,gBAAO,YAAP,EAA5B;AACD,KAFE,CADG;;AAKN,IAAA,CAAC,EAAE,0BAAe,YAAW;AAC3B,aAAO,MAAM,CAAC,WAAP,GAAqB,gBAAO,YAAP,EAA5B;AACD,KAFE,CALG,EAvBU;;;AAiClB,EAAA,MAAM,gBAjCY,EAAb,C","file":"client.js","sourcesContent":["import _ from 'lodash-firecloud';\nimport cfg from './cfg';\nimport screen from './screen';\n\nimport {\n  roundRect,\n  shouldThrottle\n} from './util';\n\nexport let toJSON = function() {\n  return roundRect({\n    cfg: client.cfg,\n\n    x: client.x(),\n    y: client.y(),\n    width: client.width(),\n    height: client.height(),\n\n    isIframe: client.isIframe(),\n    scroll: roundRect({\n      x: client.scroll.x(),\n      y: client.scroll.y()\n    })\n  });\n};\n\n// client aka visual-viewport/viewport/client-area of the top/iframe\n// coordinates in device px relative to browser window\nexport let client = {\n  cfg: cfg.client,\n\n  x: function() {\n    return _.defaultTo(cfg.client.x, 0);\n  },\n\n  y: function() {\n    return _.defaultTo(cfg.client.y, 0);\n  },\n\n  width: shouldThrottle(function() {\n    return window.innerWidth * screen.osZoomFactor();\n  }),\n\n  height: shouldThrottle(function() {\n    return window.innerHeight * screen.osZoomFactor();\n  }),\n\n  isIframe: shouldThrottle(function() {\n    return window !== window.top;\n  }),\n\n  scroll: {\n    x: shouldThrottle(function() {\n      return window.pageXOffset * screen.osZoomFactor();\n    }),\n\n    y: shouldThrottle(function() {\n      return window.pageYOffset * screen.osZoomFactor();\n    })\n  },\n\n  toJSON\n};\n\nexport default client;\n"]}